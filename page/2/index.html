<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">


<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="互联网, 计算机, 前端, 程序员" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="一只猿的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Scott's Blog">
<meta property="og:url" content="http://congyuandong.cn/page/2/index.html">
<meta property="og:site_name" content="Scott's Blog">
<meta property="og:description" content="一只猿的个人博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Scott's Blog">
<meta name="twitter:description" content="一只猿的个人博客">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: "post",
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Scott's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  







<div style="display:none">
<script src="http://s11.cnzz.com/stat.php?id=5558488&web_id=5558488" language="JavaScript"></script>
</div>




  
  

  <div class="container one-collumn  
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Scott's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">骐骥一跃不能十步 驽马十驾功在不舍</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-travel">
          <a href="/categories/travel" rel="section">
            
              <i class="menu-item-icon fa fa-question-circle fa-fw"></i> <br />
            
            回忆
          </a>
        </li>
      
        
        <li class="menu-item menu-item-demo">
          <a href="/categories/demo" rel="section">
            
              <i class="menu-item-icon fa fa-question-circle fa-fw"></i> <br />
            
            DEMO
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tools">
          <a href="/tools" rel="section">
            
              <i class="menu-item-icon fa fa-question-circle fa-fw"></i> <br />
            
            收藏
          </a>
        </li>
      

      
      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/12/10/x-frame-options/" itemprop="url">
                  X-Frame-Options用法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-12-10T14:16:51+08:00" content="2014-12-10">
              2014-12-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/WEB-Dev/" itemprop="url" rel="index">
                    <span itemprop="name">WEB Dev</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/10/x-frame-options/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/10/x-frame-options/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>今天使用iframe加载另外一个服务器的页面时候控制台提示X-Frame-Options禁止加载，bing之知道可以使用X-Frame-Options来禁止网页被Frame，Apache默认使用SAMEORIGIN模式</p>
</blockquote>
<ul>
<li>X-Frame-Options</li>
</ul>
<p>使用 X-Frame-Options 有三个可选的值：</p>
<pre><code>*   DENY：浏览器拒绝当前页面加载任何Frame页面
*   SAMEORIGIN：frame页面的地址只能为同源域名下的页面
*   ALLOW-FROM：允许frame加载的页面地址
</code></pre><ul>
<li><p>Apache设置方法</p>
<ul>
<li>方法1：设置httpd.config文件</li>
</ul>
</li>
</ul>
<p><code>Header set X-Frame-Options SAMEORIGIN</code></p>
<p>或者</p>
<p><code>X-Frame-Options ALLOW-FROM https://www.that-site.com,http://www.my-own-domain.com</code></p>
<pre><code>*   方法2：设置.htaccess文件
</code></pre><p>配置方法与上面一样</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/30/jQuery-mobile-data-ajax/" itemprop="url">
                  jQuery mobile & Django 跳转问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-30T00:17:27+08:00" content="2014-11-30">
              2014-11-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/WEB-Dev/" itemprop="url" rel="index">
                    <span itemprop="name">WEB Dev</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/11/30/jQuery-mobile-data-ajax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/11/30/jQuery-mobile-data-ajax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>天天超负荷写代码，好久没有写blog了。项目的微信部分使用jQuery mobile，跳转的时候遇到各种问题，可把我恶心坏了，归根到底是没研究过jqm框架，不懂人家的设计哲学啊</p>
</blockquote>
<ul>
<li>data-ajax</li>
</ul>
<p>这是个非常重要的属性，如果跳转的时候发生前一个页面没有销毁，页面发生重叠，9.9成是因为data-ajax没有设置。jqm的跳转和正常的跳转不同，没有重新加载页面，而是在page之间跳转，只加载第一个页面的css和js。跳转都有ajax直接替换dom，所以如果不想使用data-ajax设置其为false即可。</p>
<ul>
<li>django form 跳转</li>
</ul>
<p>在django中使用HttpResponseRedirect进行跳转的时候如果没有设置data-ajax，也会出现上面的问题。使用方法是再form标签加上data-ajax＝false。比如：</p>
<pre>
<form action="/w/login/" id="login" method="post" data-ajax="false">
    ...
</form>
</pre>

<p>stack overflow上相关的<a href="http://stackoverflow.com/questions/6528855/jquery-mobile-and-dynamic-page-content" target="_blank" rel="external">链接</a></p>
<p>ps.堂堂211大学，封了炉石、DOTA神马的我可以理解，现在stack overflow、github都要挂代理了，已经不能快乐的玩耍了！</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/16/jQuery-baidu/" itemprop="url">
                  仿百度百科锚点跟随功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-16T00:17:50+08:00" content="2014-11-16">
              2014-11-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/WEB-Dev/" itemprop="url" rel="index">
                    <span itemprop="name">WEB Dev</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/11/16/jQuery-baidu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/11/16/jQuery-baidu/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>项目中用到一个UI有点类似百度百科的锚点，会随着页面的滚动自动修改锚点，使用jQuery可以很容易的实现这个功能</p>
</blockquote>
<ul>
<li>实现逻辑</li>
</ul>
<p>主要是通过滚动条的高度和各锚点的高度进行对比，如果滚动条高度大于第n个锚点高度而小于第n+1个锚点高度，那就意味现在导航应该指向第n个。粗略的代码如下：</p>
<pre>
$(document).ready(function(){
  $(document).scroll(function(){
    $(".tabitem.presentation h1").each(function(index){
      if($(this).offset().top > $(window).scrollTop()){
        if(index > 0){
          $(".sidemenu li:eq("+(index-1)+")").addClass("hover").siblings().removeClass("hover");
        }
        return false;
      }
    });
  });
});
</pre>

<ul>
<li>优化</li>
</ul>
<p>代码中用到了each函数，如果稍微优化点可以用二分，但只有不几个锚点，还是暴力点好了。再其次其实不需要每次有scroll时间都去判断是否发生了锚点的变化，比如发生100的便宜才去判断，可以减少判断次数，但实际测试好像页面也没啥影响，不知道是不是多虑了。。。</p>
<ul>
<li>效果图</li>
</ul>
<p><img src="http://www.congyuandong.cn/wp-content/uploads/2014/11/锚点跟随.jpg" alt="锚点跟随"></p>
<ul>
<li>演示</li>
</ul>
<p><a href="http://demo.crowdfunding.congyuandong.cn/c/sdetail/1" target="_blank" rel="external">演示站点</a></p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/13/django-imagekit/" itemprop="url">
                  Django使用imagekit处理上传图片
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-13T21:52:12+08:00" content="2014-11-13">
              2014-11-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/django/" itemprop="url" rel="index">
                    <span itemprop="name">django</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/11/13/django-imagekit/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/11/13/django-imagekit/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>今天做一个投票网站需要上传头像，但是需要上传的图片各种像素都有，不想一一处理，于是找到imagekit这个第三方库，可以方便的实现对图片的自动化剪裁</p>
</blockquote>
<ul>
<li>安装</li>
</ul>
<p><code>pip install django-imagekit</code></p>
<ul>
<li><p>INSTALLED_APPS 中加入 imagekit</p>
</li>
<li><p>修改models.py</p>
</li>
</ul>
<pre>
image = ProcessedImageField(upload_to ='avatar/',verbose_name='头像',help_text='112px*135px像素为宜',
                    processors=[ResizeToFill(112, 135)],format='JPEG')
</pre>

<ul>
<li><p>ProcessedImageField将只保留剪裁后的图片</p>
</li>
<li><p><a href="http://www.fanganwang.com/jswz/3694" target="_blank" rel="external">其他用法</a></p>
</li>
<li><p>让PIL支持jpeg</p>
</li>
</ul>
<p>MAC <a href="http://blog.csdn.net/zkdemon/article/details/39049739" target="_blank" rel="external">http://blog.csdn.net/zkdemon/article/details/39049739</a></p>
<p>Centos <a href="http://blog.csdn.net/shaoxiaohu1/article/details/21995177" target="_blank" rel="external">http://blog.csdn.net/shaoxiaohu1/article/details/21995177</a></p>
<p>下载地址 libjpeg <a href="http://ijg.org" target="_blank" rel="external">http://ijg.org</a> zlib &lt;zlib.net&gt;</p>
<p>安装之后可以可以用easy_install PIL安装</p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/01/django-tag/" itemprop="url">
                  Django使用自定义Tag实现动态导航栏
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-01T15:07:02+08:00" content="2014-11-01">
              2014-11-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/django/" itemprop="url" rel="index">
                    <span itemprop="name">django</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/11/01/django-tag/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/11/01/django-tag/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>无论哪种类型的网站开发都免不了需要实验动态的导航栏，在Django可以通过自定义Tag来实现</p>
</blockquote>
<h3 id="原始代码"><a href="#原始代码" class="headerlink" title="原始代码"></a>原始代码</h3><pre>

*   [首页](index.html)
*   [股权众筹](stock.html)
*   [债券众筹](bond.html)
*   [众筹转让](transfer.html)
</pre>

<h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><ul>
<li>在App目录增加templates目录</li>
</ul>
<p><code>mkdir templatetags</code></p>
<ul>
<li>在templates增加创建名为<code>__init__.py</code>的文件，这样Django就会认为该目录为包文件夹</li>
</ul>
<p><code>touch **init**.py</code></p>
<ul>
<li>修改view.py urls.py，自定url跳转规则，比如/c/stock指向stock.html页面，Django基础，不再赘述，需要注意的是要在view中讲request作为参数传给模版，例如：</li>
</ul>
<pre>
def bond(request):
    context = RequestContext(request)
    context_dict = {}
    return render_to_response('qdinvest/bond.html',context_dict,context)
</pre>
*   在settings文件中`TEMPLATE_CONTEXT_PROCESSORS`添加`'django.core.context_processors.request'`

*   在templatetags文件夹中创建自定义tag文件，比如mainTag.py，代码如下：

<pre>
from django import template
register = template.Library()

    class NavTagItem(template.Node):    def __init__(self, nav_path, nav_displaytext):        self.path = nav_path.strip('"')        self.text = nav_displaytext.strip('"')
    def render(self, context):    cur_path = context['request'].path    #print cur_path,self.path
    current = False    if self.path == '/':        current = cur_path == '/'    else:        current = cur_path.startswith(self.path)    cur_id = ''    if current:        cur_id = ' class="hover" '    return '<li %s="">[%s](%s)
' % (cur_id, self.path, self.text)
@register.tagdef navtagitem(parser, token):    try:        tag_name, nav_path, nav_text = token.split_contents()    except ValueError:        raise template.TemplateSyntaxError, \
            "%r tag requires exactly two arguments: path and text" % \
            token.split_contents[0]    return NavTagItem(nav_path, nav_text)</li></pre>
*   以上代码需要多出修改，主要在render函数中，修改修饰为html原有样式，如果出现多tags的使用还需要区分tag的作用域

*   修改html代码，改为：

<pre>
load mainTag 
</pre>
          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/29/sublime-reg/" itemprop="url">
                  Sublime 高级正则查找替换
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-29T17:52:42+08:00" content="2014-10-29">
              2014-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/django/" itemprop="url" rel="index">
                    <span itemprop="name">django</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/29/sublime-reg/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/29/sublime-reg/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>在制作HTML模版的时候经常需要将正常的HTML标签替换成模版标签，使用正则查询可以很方便的定位需要替换的位置，如果再加上固定位置的替换，简直就可以瞬间完成大半的工作。</p>
</blockquote>
<h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><ul>
<li>将类似<code>src=&quot;images/banner3.png&quot;</code>这样的语句替换成<code>src=&quot;static &#39;images/banner3.png&#39;&quot;</code></li>
</ul>
<h3 id="替换方法"><a href="#替换方法" class="headerlink" title="替换方法"></a>替换方法</h3><ul>
<li>调出查找和替换界面，mac下使用<code>command+option+f</code></li>
<li>点下最左侧的.*按钮，启用正则搜索</li>
<li>Find What界面中输入<code>&quot;images/(.*).png&quot;</code>，这样就可以找到所有的图片加载代码，别忘了这儿的小括号</li>
<li>Replace With中输入<code>&quot; static &#39;images/$1.png&#39;&quot;</code>这儿的$1就代表了第一个括号中匹配的内容</li>
<li>Replace ALL！</li>
</ul>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/29/django-models/" itemprop="url">
                  Django models生成文档
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-29T12:51:17+08:00" content="2014-10-29">
              2014-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/django/" itemprop="url" rel="index">
                    <span itemprop="name">django</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/29/django-models/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/29/django-models/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Django的models对开发者已经非常友好，但为了文档和团队讨论的方便可能会需要将models直接生成文档，bing搜索到一篇很久之前的文档，代码也不能用，所以根据作者提供的思路自己写了一个工具，可以方便的将django models转为为HTML文档。</p>
</blockquote>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><ul>
<li><code>m2doc.py</code>拷贝到<code>project</code>的根目录下</li>
<li>替换第3行<code>settings</code>的名字</li>
<li>修改第78行，修改成自己需要的apps</li>
<li>执行该脚本，会在项目根目录下面生成对应的html文件</li>
</ul>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="http://www.congyuandong.cn/wp-content/uploads/2014/10/m2doc.jpg" alt="效果"></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><ul>
<li><a href="https://github.com/congyuandong/m2doc" target="_blank" rel="external">Github地址</a></li>
</ul>
<pre>
#coding:utf-8
import sys,os
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "Crowdfunding.settings")
import inspect
from django.conf import settings
from django.db import models
from django.template import Context,Template

template = '''
    <html>        
        <head>
            <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
            <title>Data table schema document</title>
            <style type="text/css">
                .loopeven {background:#f1f1f1;}
                .loopodd {}
            </style>
        </head>
        <body>
            

                this document generated by scott
                [ django-m2doc](http://www.congyuandong.cn)

        </body>
    </html>
    '''

def get_propertys(cls):
    fields = []
    for f in cls._meta.fields:
        setattr(f, 'class_name', f.__class__.__name__)
        if hasattr(f, 'related'):
            setattr(f, 'related_name', f.related.parent_model.__name__)
        fields.append(f)
    return fields

def main():    
    mod_list = []
    model_list = []
    for app in settings.INSTALLED_APPS:
        mod_list.append('%s.%s' % (app, 'models'))
    modules = map(__import__, mod_list)
    for s_model in mod_list:
        for member in inspect.getmembers(sys.modules[s_model], predicate=inspect.isclass):
            name,obj=member
            module_name = inspect.getmodule(obj).__name__     
            if module_name.startswith('qdinvest'):
                #这儿可以使用obj.__name__
                model_obj = {}
                model_obj['model'] = obj.__name__
                model_obj['name'] = obj._meta.verbose_name_plural
                model_list.append((model_obj, get_propertys(obj)))

    print model_list
    if model_list:
        t = Template(template)
        c = Context({'models':model_list})
        html = t.render(c)
        html_file = open('models_doc.html', 'w+')
        html_file.write(html.encode('utf-8'))
        html_file.close()

if __name__ == '__main__':
    main()
</pre>
          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/28/django-extension-models-2-graph/" itemprop="url">
                  Django使用django-extensions输出Models图形
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-28T01:38:45+08:00" content="2014-10-28">
              2014-10-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/django/" itemprop="url" rel="index">
                    <span itemprop="name">django</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/28/django-extension-models-2-graph/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/28/django-extension-models-2-graph/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Django的Models对于开发者来说非常友好，但是有时候用户并不会买账，他们总喜欢来点好看但不实用的东西，使用django-extensions可以输出models关系图，当然django-extensions远不只这些功能，具体的可以看官方docs</p>
</blockquote>
<ul>
<li>下载安装django-extensions</li>
</ul>
<p>下载地址<a href="https://github.com/django-extensions/django-extensions" target="_blank" rel="external">Github</a></p>
<p><code>python setup.py install</code></p>
<p>或者直接</p>
<p><code>pip install django-extensions</code> 或 <code>easy_install django-extensions</code></p>
<ul>
<li>在Django项目中安装django-extensions</li>
</ul>
<p>在Settings文件中增加如下的APP</p>
<p><pre><br>INSTALLED_APPS = (<br>…<br>‘django_extensions’,<br>…<br>)<br></pre></p>
<ul>
<li>调用manage生成图表</li>
</ul>
<p><code>python manage.py graph_models -a -o myapp_models.png</code></p>
<h3 id="Tip"><a href="#Tip" class="headerlink" title="Tip"></a>Tip</h3><ul>
<li>生成图标其实是将dot文件利用绘图库生成对应的格式，如果没有这些库的话会提示：</li>
</ul>
<p><code>CommandError: Neither pygraphviz nor pydot could be found to generate the image</code></p>
<p>所以需要先安装一个图形库，比如pygraphviz</p>
<pre><code>*   安装graphviz
</code></pre><p>从<a href="http://www.graphviz.org" target="_blank" rel="external">官网</a>下载安装即可</p>
<pre><code>*   安装pygraphviz
</code></pre><p><a href="https://pypi.python.org/pypi/pygraphviz" target="_blank" rel="external">下载</a>，并在setup.py中修改以下两行</p>
<p><code>include_dirs = &#39;/usr/local/include/graphviz&#39;</code></p>
<p><code>library_dirs = &#39;/usr/local/lib/graphviz&#39;</code></p>
<p>最后 <code>python setup.py install</code></p>
<p><img src="http://www.congyuandong.cn/wp-content/uploads/2014/10/models.jpg" alt="models.png"></p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/27/access-control-allow-origin/" itemprop="url">
                  百度地图API is not allowed by Access-Control-Allow-Origin
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-27T02:15:04+08:00" content="2014-10-27">
              2014-10-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/WEB-Dev/" itemprop="url" rel="index">
                    <span itemprop="name">WEB Dev</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/27/access-control-allow-origin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/27/access-control-allow-origin/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>使用百度地图http API时出现如上错误，本来以为是缺少某种权限，尝试在ajax请求中增加头文件无果，其实最简单的方法是把dataType设置为JSONP</p>
</blockquote>
<ul>
<li>问题起因</li>
</ul>
<p>用户今天提出要求，需要在选择了起始点和结束点之后，自己计算出之间的运送距离，之前直接用数学方法算出的直线距离，显然不太合适，于是看了下百度地图的API，可以直接用Route Matrix API来解决，文档见<a href="http://developer.baidu.com/map/index.php?title=webapi/route-matrix-api" title="webapi/route-matrix-api" target="_blank" rel="external">这里</a>,于是直接用ajax调用，代码基本如下</p>
<pre>function calculate_distance(){
    start_long = $("#or_longitude").val();
    start_lati = $("#or_latitude").val();
    end_long = $("#or_end_longitude").val();
    end_lati = $("#or_end_latitude").val();
    var distance = 10;
    $.ajax({
        url:'http://api.map.baidu.com/direction/v1/routematrix?output=json&origins='+start_lati+','+start_long+'&destinations='+end_lati+','+end_long+'&ak=不告诉你',
        type:'GET',
        dataType:'json',
        success:function(result){
            $("#or_distance").val(result.result.elements[0].distance.value/1000);
        },
        error:function(){
            $("#or_distance").val(distance);
        }
    });

    $("or_distance").val(distance);
}</pre>

<p>调试很开发现返回了错误，log显示<code>xxx is not allowed by Access-Control-Allow-Origin.</code></p>
<ul>
<li>解决方案一</li>
</ul>
<p>度娘们说很大可能是因为header的缘故，故看了下jQuery Ajax的<a href="http://www.w3cschool.cn/ajax_ajax.html" target="_blank" rel="external">具体参数</a>，发现可以在beforeSend(XHR)函数中修改XMLHttpRequest，从而达到修改头文件的功能。实测改方法并没有其作用</p>
<ul>
<li>解决方案二</li>
</ul>
<p>将<code>dataType:&#39;json&#39;</code>设置为<code>dataType:’JSONP’</code>,其实该方法与方法一的目的是一样的，都是为了解决跨域问题，估计是方法一用在php,java之类的语言框架中可以起到作用。参考在<a href="http://holyrain1314.blog.163.com/blog/static/1001141352014242404530/" target="_blank" rel="external">这里</a></p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/26/remember-petersburg/" itemprop="url">
                  圣彼得堡游记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-26T13:45:30+08:00" content="2014-10-26">
              2014-10-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/travel/" itemprop="url" rel="index">
                    <span itemprop="name">travel</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/26/remember-petersburg/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/26/remember-petersburg/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>借着比赛的机会第一次飞出了国界，外面的世界感觉就是不一样～</p>
</blockquote>
<ul>
<li>2014-09-21 20:57:13 机场的套娃，可比哈尔滨贵出好多，毕竟人家是真的</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUIMiWgDDz" alt="俄罗斯套娃"></p>
<ul>
<li>2014-09-22 10:03:04 同声传译，虽然这位大腹便便的大叔翻译得基本听不懂，干一天也不容易（这个行当比搞IT挣得多好多）</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUIkeZW1Sq" alt="同声传译"> <img src="http://img.itc.cn/photo/jZUIYQBnyUG" alt="同声传译"></p>
<ul>
<li>2014-09-22 第一天的比赛，中国队伍的作品在功能和完成度上要比俄罗斯的高出一大截，而且赛前都做了相当多的准备工作</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUI03x8dOt" alt="比赛"> <img src="http://img.itc.cn/photo/jZUI0gju2kx" alt="比赛"> <img src="http://img.itc.cn/photo/jZUIry74HOg" alt="比赛"> <img src="http://img.itc.cn/photo/jZUI5xMkFbz" alt="比赛"> <img src="http://img.itc.cn/photo/jZUpI1D85Qb" alt="比赛"></p>
<ul>
<li>中场进来拍照的外国妹子～</li>
</ul>
<p><img src="http://img.itc.cn/photo/j3Y3ZT1zGun" alt="美女"></p>
<ul>
<li>2014-09-22 15:59:44 酒店外面的车，都是这个长度的。。。当然圣彼得堡相当于中国的上海，而且我们所在的酒店就叫俄罗斯酒店（圣彼得堡本地的人都认为这儿才是俄罗斯首都）</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUppnAYA2E" alt="豪车"> <img src="http://img.itc.cn/photo/jZUppRxoy4d" alt="豪车"></p>
<ul>
<li>2014-09-22 16:21:41 俄罗斯的商场和超市，酒架特别多，而且不贵，果汁类的也比国内便宜，反而可乐，七喜这些碳酸饮料价格差不多是国内的两倍</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUpuaAheYP" alt="商场"> <img src="http://img.itc.cn/photo/jZUpuYJqXA2" alt="商场"> <img src="http://img.itc.cn/photo/jZUpqKfkUp8" alt="商场"></p>
<ul>
<li>来招外国留学生的</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZPs9BFVTQt" alt=""> <img src="http://img.itc.cn/photo/jZPsVCrjj1c" alt=""></p>
<ul>
<li>2014-09-23 8:25:26 第二天的早饭，黄黄的是黄油，感觉比奶油差多了，俄罗斯人貌似喜欢早饭来杯茶，反正怎么看都不搭</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUuBhVfR88" alt="早饭"></p>
<ul>
<li>2014-09-23 11:20:17 圣光机光电博物馆，有点像北京的科技博物馆</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUuVq2C3zk" alt="博物馆"> <img src="http://img.itc.cn/photo/jZUu9VzhuFV" alt="博物馆"></p>
<ul>
<li><p>2014-09-23 11:42:36 ITMO 五次ACM全球总决赛冠军 以后再也不说自己用过OJ了 <img src="http://img.itc.cn/photo/jZUu8NB2xFq" alt="ACM"></p>
</li>
<li><p>2014-09-23 13:01:41 中午的午饭，我只想说，肉呢！三天除了土豆就是某种香菜，俄罗斯人要是去了天朝还想回去不</p>
</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUurTv3Lej" alt="午饭"></p>
<ul>
<li>2014-09-23 15:18:31 夏宫，彼得大帝夏天住的地方，所有的喷泉都是天然水压形成的</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUuNAhGTrM" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUu5mNTl30" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUugwtWxVk" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUucYoCW4k" alt="夏宫"></p>
<ul>
<li>对面是波罗的海</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUuCbyYFLp" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUuAymTqKb" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUbuLuxN74" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUfr6cuau4" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUfCCBIKNH" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUfx0GHu3A" alt="夏宫"> <img src="http://img.itc.cn/photo/jZUmpj0rO50" alt="夏宫"></p>
<ul>
<li>2014-09-23 17:37:40 中国城，上海富商盖的商业区，没通地铁，浓浓的中国风</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUm79pjfP8" alt="中国城"> <img src="http://img.itc.cn/photo/jZUmLlTeos1" alt="中国城"></p>
<ul>
<li>2014-09-23 22:00:36 我们住的地方，一晚上一个人1050卢布，1RMB约等于6.5卢布，各种电器一应俱全，还能烧火做饭</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmosr5iuq" alt="住的地方"></p>
<ul>
<li>超市买的 5卢布一瓶</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmwZ2JdML" alt="5卢布一瓶"></p>
<ul>
<li>没错，你没有看错，是熊出没，前一天晚上看的日本的恐龙战队。。。第二天早上放的新闻一个小时复播了三遍，在俄罗斯搞电视产业，估计能有前景</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmGfmnXWv" alt="熊出没"> <img src="http://img.itc.cn/photo/jZUmw132YAN" alt="熊出没"></p>
<ul>
<li>2014-09-24 11:27:10 滴血大教堂 圣彼得堡唯一的俄罗斯风格的建筑，亚历山大二世在这儿被极端分子暗杀。</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmH1BwJ30" alt="滴血大教堂"></p>
<ul>
<li>显然，自己的手机还是自己拍出来的效果好</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmOvfDaX2" alt="滴血大教堂"> <img src="http://img.itc.cn/photo/jZUmJX5ONAk" alt="滴血大教堂"> <img src="http://img.itc.cn/photo/jZUmVS0v8mA" alt="滴血大教堂"> <img src="http://img.itc.cn/photo/jZUm4zBxFEk" alt="滴血大教堂"> <img src="http://img.itc.cn/photo/jZUmRlEoO0x" alt="滴血大教堂"> <img src="http://img.itc.cn/photo/jZUmljb0MnD" alt="滴血大教堂"></p>
<ul>
<li>导游带我们去的小商店，大家都懂的</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmhEbig1p" alt=""> <img src="http://img.itc.cn/photo/jZUmkv6AlGE" alt=""></p>
<ul>
<li>2014-09-24 14:05:41 雅士多尼亚饭店,据说毛爷爷在这儿住过，还为他把马桶改成了蹲式的（纯属谣言）</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXI6SYrEL" alt="雅士多尼亚饭店"></p>
<ul>
<li>圣依萨教堂 世界四大教堂之一，也是世界第三高的圆拱形建筑物,由72根从64吨至114吨大小不一的巨型大理石圆柱支撑</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUX1hRrcRb" alt="圣依萨教堂"></p>
<ul>
<li>好几对新人在这儿拍照，还邀请我们一起拍了张</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXEoKjYLp" alt="圣依萨教堂"></p>
<ul>
<li>沙皇尼古拉一世骑马铜像</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUmSXwJwWc" alt=""></p>
<ul>
<li>这个。。。你懂的</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXLtLle71" alt="你懂的"> <img src="http://img.itc.cn/photo/jZUXaGwjbtL" alt="你懂的"> <img src="http://img.itc.cn/photo/jZUXaTX1gab" alt="你懂的"></p>
<ul>
<li>小兔子岛 彼得大帝的防御堡垒，为啥叫兔子岛，因为以前兔子很多呗</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXLqW4Rwg" alt="小兔子岛"></p>
<ul>
<li>2014-09-24 14:39:45 冬宫 叶卡捷琳娜二世女皇的私人博物馆</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXPZSNKgx" alt=""> <img src="http://img.itc.cn/photo/jZUXVxdI6mb" alt=""> <img src="http://img.itc.cn/photo/jZUXJDjbJwt" alt=""></p>
<ul>
<li>随处可见，男的一般一个人抽，女的一般结伴抽</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXUFj8Zrb" alt=""> <img src="http://img.itc.cn/photo/jZUXlzBGO0z" alt=""></p>
<ul>
<li>结束的时候车里就剩两队学生了，右三是导游，天津某外国语大学毕业的，非常nice！</li>
</ul>
<p><img src="http://img.itc.cn/photo/jZUXkqb0Fv8" alt=""></p>

          
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/default_avatar.jpg"
               alt="Yuandong Cong" />
          <p class="site-author-name" itemprop="name">Yuandong Cong</p>
          <p class="site-description motion-element" itemprop="description">一只猿的个人博客</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">36</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">34</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yuandong Cong</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  黑ICP备14005003号
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"congyuandong"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  

  
  


</body>
</html>
